<html>

<head>
<h1>Guesser</h1>
<p><em>By Blake Macke</em></p>

<p>A game where the computer randomly generates numbers until it matches the user-appointed target within the user-appointed range.<br> 
It will print how many attempts were generated and a percentage that represents the chance that the guess had to be the target.</p>
</head>

<body>
 <form>
  Enter Target Number: <input type="text" id="textbox1" name="target"><br>
  Enter Max Number:    <input type="text" id="textbox2" name="max"><br>
  <button onclick="guesser()">Enter</button>
</form> 

<script type="text/javascript">
function guesser()
{
	var count = 0,
	    guess = 0,
	    tnum = parseInt(document.getElementById('textbox1').value),
	    mnum = parseInt(document.getElementById('textbox2').value),
	    incorrect = [];
	
	if (tnum < 1)
	{
		alert("Error: numbers must be greater than 0");
		return;
		
	}

	if (tnum > mnum)
	{
		alert("Error: max must be greater than target");
		return;
	}
	
	guess = Math.floor(Math.random() * (mnum - 1 + 1)) + 1;	
	incor:
	while (guess != tnum)
	{
		if (incorrect.length != 0)
		{
			for (var i = 0; i < incorrect.length; i++)
			{
				if (incorrect[i] == guess)
				{
					guess = Math.floor(Math.random() * (mnum - 1 + 1)) + 1;
					continue incor;
				}
			}
		}
		
		incorrect.push(guess);
		
		guess = Math.floor(Math.random() * (mnum - 1 + 1)) + 1;
	}  
	incorrect.push(guess);
	var len = incorrect.length;
	var percent = parseFloat((len / mnum) * 100).toFixed(2);	
	var ittook = "It took ";
	var tries = " tries to correctly generate ";
	document.write(ittook);
	document.write(len);
	document.write(tries);
	document.write(tnum);
	document.write("<br>");
	document.write("The last guess had a ");
	document.write(percent);
	document.write("% chance of being correct.");
	document.write("<br><br>");
	document.write("Guesses:");
	document.write("<br>");
	
	for (var j = 0; j < len; j++)
	{
		document.write(incorrect[j] + " ");
		if ((j+1) % 10 == 0)
		{
			document.write("<br>");
		}
	}
	document.write("<br><br>");
	
	var str = "Again?";
	var web = str.link("https://bmacke12.github.io/Guesser/");
	document.write(web);
  
	
		
}
</script>

</body>
</html>
